<script context='module'>
  export async function load({ fetch }) {
    const res = await fetch('/pigs/getpigs');

    if (res.ok) {
      const body = await res.json();
      return {
        props: { pigs: body.pigs, },
      };
    }
  };
</script>

<script lang="ts">
  import type { Pig } from '$lib/types';
  import PigList from '$lib/components/PigList.svelte';

  export let pigs: Pig[];
</script>

<svelte:head>
  <title>My pigs</title>
</svelte:head>

<h1 class="mx-auto">My pigs</h1>

<a class="btn btn-primary" href="/pigs/new">Add New Pig</a>

<PigList {pigs} />
